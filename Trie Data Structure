#include <bits/stdc++.h> 
struct Node{
    Node *link[26];
    int wordEnd=0;
    int wordPre=0;

    Node* get(char c){
        return link[c-'a'];
    }

    bool containsKey(char c){
        return link[c-'a']!=nullptr;
    }

    bool put(char c,Node* node){
        link[c-'a']=node;
    }
    
    void wordEndInc(){
        wordEnd++;
    }

    void wordPreInc(){
        wordPre++;
    }

     void wordEndDec(){
        wordEnd--;
    }

    void wordPreDec(){
        wordPre--;
    }

    int getWordEnd(){
        return wordEnd;
    }

    int getWordPre(){
        return wordPre;
    }

};
class Trie{
    private:
    Node* root;
    public:

    Trie(){
        root=new Node();
    }

    void insert(string &word){
        Node* temp=root;
        for(int i=0;i<word.length();i++){
            if(!temp->containsKey(word[i])){
                temp->put(word[i],new Node());
            }
            temp=temp->get(word[i]);
            temp->wordPreInc();
        }
        temp->wordEndInc();
    }

    int countWordsEqualTo(string &word){
        Node* temp=root;
        for(int i=0;i<word.length();i++){
            if(!temp->containsKey(word[i])){
                return 0;
            }
            temp=temp->get(word[i]);
        }
        return temp->getWordEnd();
    }

    int countWordsStartingWith(string &word){
        Node* temp=root;
        for(int i=0;i<word.length();i++){
            if(!temp->containsKey(word[i])){
                return 0;
            }
            temp=temp->get(word[i]);
        }
        return temp->getWordPre();
    }

    void erase(string &word){
        Node* temp=root;
        for(int i=0;i<word.length();i++){
            if(!temp->containsKey(word[i])){
                return;
            }
            temp=temp->get(word[i]);
            temp->wordPreDec();
        }
        temp->wordEndDec();
    }
};
