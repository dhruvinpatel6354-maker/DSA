    vector<int> preorderTraversal(TreeNode* root) {
        
       vector<int> ans;
       if(!root)return ans;
       while(root){

        if(!root->left){
            ans.push_back(root->val);
            root=root->right;
        }else{

            TreeNode* temp=root->left;
            while(temp->right!=NULL && temp->right!=root)
            temp=temp->right;

            if(temp->right==nullptr){
                ans.push_back(root->val);
                temp->right=root;
                root=root->left;
            }

            if(temp->right==root){
                temp->right=nullptr;
                root=root->right;
            }
        }
       }
       return ans;
    }
